@page "/Account/LoginWithRecoveryCode"
@using Microsoft.AspNetCore.Identity
@using Microsoft.Extensions.Logging
@using NutritionTracker.Infrastructure.Identity
@using NutritionTracker.Web.Identity

@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager
@inject IdentityRedirectManager RedirectManager
@inject ILogger<LoginWithRecoveryCode> Logger

<PageTitle>Recovery code verification</PageTitle>

<h1>Recovery code verification</h1>
<hr/>
<StatusMessage Message="@message"/>
<p>
    You have requested to log in with a recovery code. This login will not be remembered until you provide
    an authenticator app code at log in or disable 2FA and log in again.
</p>
<div >
    <div >
        <EditForm Model="Input" FormName="login-with-recovery-code" OnValidSubmit="OnValidSubmitAsync" method="post">
            <DataAnnotationsValidator/>
            <ValidationSummary role="alert"/>
            <div >
                <InputText @bind-Value="Input.RecoveryCode" autocomplete="off" placeholder="RecoveryCode"/>
                <label for="recovery-code">Recovery Code</label>
                <ValidationMessage For="() => Input.RecoveryCode"/>
            </div>
            <button type="submit">Log in</button>
        </EditForm>
    </div>
</div>