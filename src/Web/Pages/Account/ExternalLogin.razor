@page "/Account/ExternalLogin"
@using Microsoft.AspNetCore.Identity
@using Microsoft.Extensions.Logging
@using NutritionTracker.Infrastructure.Identity
@using NutritionTracker.Web.Identity

@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager
@inject IUserStore<ApplicationUser> UserStore
@inject IEmailSender<ApplicationUser> EmailSender
@inject NavigationManager NavigationManager
@inject IdentityRedirectManager RedirectManager
@inject ILogger<ExternalLogin> Logger

<PageTitle>Register</PageTitle>

<StatusMessage Message="@message"/>
<h1>Register</h1>
<h2>Associate your @ProviderDisplayName account.</h2>
<hr/>

<div >
    You've successfully authenticated with <strong>@ProviderDisplayName</strong>.
    Please enter an email address for this site below and click the Register button to finish
    logging in.
</div>

<div >
    <div >
        <EditForm Model="Input" OnValidSubmit="OnValidSubmitAsync" FormName="confirmation" method="post">
            <DataAnnotationsValidator/>
            <ValidationSummary role="alert"/>
            <div >
                <InputText @bind-Value="Input.Email" autocomplete="email" placeholder="Please enter your email."/>
                <label for="email">Email</label>
                <ValidationMessage For="() => Input.Email"/>
            </div>
            <ButtonPrimary type="submit">Register</ButtonPrimary>
        </EditForm>
    </div>
</div>